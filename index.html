<!DOCTYPE html>
<html lang="pt-br" ng-app="protocolosApp">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.16/angular.min.js"></script>

	<script src="js/controllers.js"></script>

<link href="css/global.css" rel="stylesheet">
</head>
<body ng-controller="EmpresaCtrl">
    <div class="container">

      <!-- Static navbar -->
      <div class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <span class="navbar-brand" >Protocol.os</span>
          </div>
        </div><!--/.container-fluid -->
      </div>

		<div class="container-fluid">
			<div class="row">
			    <form role="form" name="reclamacaoForm" ng-submit="reclamacaoForm.$valid && adicionarReclamacao()" novalidate>
				  <div class="form-group">
				    <label for="empresa">Empresa</label>
				    <select class="form-control" id="empresa" ng-model="reclamacao.empresa" ng-options="empresa.nome for empresa in empresas" required>
				    </select>
				  </div>
				  <div class="well well-sm" ng-show="reclamacao.empresa != null">
				  	<dl class="dl-horizontal">
	  					<dt>Nome</dt><dd>{{reclamacao.empresa.nome}}</dd>
	  					<dt>Descrição</dt><dd>{{reclamacao.empresa.descricao}}</dd>
	  					<dt>Telefone</dt><dd>{{reclamacao.empresa.telefone}}</dd>
					</dl>
				  </div>

					<div class="form-group">
				    	<label for="reclamacao">Reclamação</label>
				    	<input type="text" ng-model="reclamacao.titulo" class="form-control" id="reclamacao" placeholder="Em poucas palavras, explique a situação." required>
				  	</div>

					<button type="submit" ng-disabled="reclamacaoForm.$invalid" class="btn btn-primary">Criar</button>

					<span ng-show="reclamacaoForm.$invalid" class="help-block">Um ou mais campos obrigatório deste formulário não estão prenchidos.</span>
				
				  	

				</form>
			</div>


			<div class="row"> 
				<h3>Reclamações</h3>
				<p class="well" ng-show="reclamacoes.length <= 0"><em>Nenhuma reclamação cadastrada.</em></p>

				<table class="table table-bordered" ng-show="reclamacoes.length > 0">
					<tr>
						<th>Reclamação</th>
						<th>Empresa</th>
					</tr>
					<tr ng-repeat="reclamacao in reclamacoes">
						<td>{{reclamacao.titulo}}</td>
						<td>{{reclamacao.empresa.nome}} ({{reclamacao.empresa.descricao}})</td>
					</tr>
				</table>
			</div>
		</div><!--/.container-fluid -->

    </div> <!-- /container -->

	
</body>
</html>


<!--
VAMOS COLOCAR A LISTA DE EMPRESAS EM UM SELECT


 	-->